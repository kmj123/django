<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://cdn-uicons.flaticon.com/uicons-regular-rounded/css/uicons-regular-rounded.css"> 
  <title>Í¥ÄÎ¶¨Ïûê | Í≤åÏãúÍ∏ÄÍ¥ÄÎ¶¨</title>
  <style>
   *{margin : 0; padding : 0;  box-sizing : border-box;}
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .banner{
            width : 1000px;
            height : 70px;
            background :rgba(255, 255, 255, 0.95);
            border-radius : 20px;
            display : flex;
            align-items: center;
            justify-content: space-between;
            margin-top:5px;
            padding : 0 25px;

        }
        .banner h2{ 
            font-size : 30px; 
            color : #7E6EB0;
            align-items : center; 
            margin-left: 15px;
        }
        .banner-center {
            display: flex;
            align-items: center;
        }
        .banner-right {
            display: flex;
            align-items: center;
        }
        .table{display : flex;
            margin-top : 15px;}
        .menu {
            display: flex;
            align-items: center;
        }
        .menu ul {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
            gap: 10px;
        }
        .menu li{
            display : flex;
            text-align : center;
            align-items : center;
            justify-content: center;
            padding: 0 15px;
            font-weight : 500;
            width : 115px;
            height : 40px;
            border-radius : 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            color : #764ba2;
            border : 2px solid  #764ba2;
        }
        .menu li a{color : #764ba2;}
        .menu .board{
            background : linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color : rgba(255, 255, 255, 0.95);
            border : none;
        }
        .menu li.board a {
          color: rgba(255, 255, 255, 0.95); 
        }
        .home {
            all: unset;
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 500;
            color: #7E6EB0;
            padding: 10px 15px;
            border-radius: 10px;
            transition: all 0.3s ease;
            text-decoration: none;
        }
        .home:hover {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .home i {
            font-size: 16px;
            display: flex;
            align-items: center;
        }
        .notice{
            width : 100%;
            height : 800px;
            background : white;
            border-radius : 25px;
            background : rgba(255, 255, 255, 0.95);
        }
        .dash-top{height : 80px; width : 860px; text-align : center;
                margin : 30px 40px 0 70px;font-size : 16px;}
        .dash-top hr{ color : rgba(219, 213, 213, 0.63); margin-top : 15px;}
        .box{display : flex; }
        .box div { display : flex;
                    position: relative;
                    left: 36px;
                    flex-direction: column; 
                    justify-content: center; 
                    align-items: center;     
                    width : 250px;
                    height : 120px;
                    background : white;
                    border-radius : 15px;
                    margin : 10px 0 auto;
                    margin-left : 45px;
                   box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);}
        .box p{ color : #667EEA; font-size : 35px; font-weight : 700;}
        .box a{ color : #666666; font-size : 15px;font-weight : 500;}
        .notice h3{font-size : 25px; margin : 20px; padding-left : 25px;}
    .filter {
      position: relative;
      margin: 25px auto 0 auto;
      width: 850px;
      height: 80px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .filt {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
      gap: 10px;
    }
    .filter select {
      width: 100px;
      height: 35px;
      border-radius: 10px;
    }
    .filter .search {
      width: 500px;
      height: 35px;
      border-radius: 10px;
      border: 2px solid #ccc;
      outline: none;
      padding-left : 12px;
    }
    .filter .searchBtn {
      height: 35px;
      width: 45px;
      border-radius: 10px;
      border: none;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
    }
    input[type="text"]:focus {
      border: 2px solid black;
    }

    .table-controls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin: 20px 40px 10px 40px;
    }

    .table-controls h3 {
      color: #666;
      font-size: 16px;
      font-weight: 500;
    }

    .action-buttons {
      display: flex;
      gap: 10px;
    }

    .action-btn {
      position: relative;
      margin-right : 35px;
      padding: 10px 20px;
      font-size: 14px;
      font-weight: 600;
      border-radius: 12px;
      border: none;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      display: flex;
      align-items: center;
      gap: 8px;
      overflow: hidden;
    }

    .action-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
      transition: left 0.5s ease;
    }

    .action-btn:hover::before {
      left: 100%;
    }

    .btn-delete {
      background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);
      color: white;
    }

    .btn-delete:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
    }

    .btn-delete:active {
      transform: translateY(0);
    }

    .btn-delete::after {
      content: 'üóëÔ∏è';
      font-size: 16px;
    }

    table {
      width: 85%;
      margin: 0 auto;
      border-collapse: collapse;
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      text-align: center;
    }
    thead {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: rgba(245, 246, 250, 0.95);
    }
    th, td {
      padding: 13px;
      text-align: center;
      border-bottom: 1px solid #f0f0f0;
    }

    table tr:last-child td {
      border-bottom: none;
    }

    .bottom-bar {
      margin: 10px auto 0 auto;
      padding: 10px;
      width: 85%;
      background: white;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
      display: flex;
      justify-content: center;
    }

    .pagination {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .pagination a,
    .pagination strong {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 35px;
      height: 35px;
      text-decoration: none;
      color: #666;
      border-radius: 8px;
      transition: all 0.3s ease;
    }

    .pagination strong {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      font-weight: 600;
    }

    .pagination a:hover {
      background: #f0f0f0;
    }

    a { text-decoration: none; color: #333; }

    .selected-count {
      color: #667eea;
      font-weight: 600;
    }

    .btn-delete:disabled {
      background: #ccc;
      cursor: not-allowed;
      transform: none;
    }

    .btn-delete:disabled:hover {
      transform: none;
      box-shadow: none;
    }
    a{text-decoration : none;}
  </style>
</head>
<body>
  <div>
    <div class="banner">
      <a href = "{% url 'home:main' %}"><h2>PO-PIN</h2></a>
      <div class = "menu">
                <ul>
                    <li><a href="{% url 'adpage:main' %}">Î©îÏù∏</a></li>
                    <li><a href="{% url 'adpage:notice' %}">Í≥µÏßÄÏÇ¨Ìï≠</a></li>
                    <li class="board"><a href="{% url 'adpage:post' %}">Í≤åÏãúÍ∏Ä Í¥ÄÎ¶¨</a></li>
                    <li><a href="{% url 'adpage:user' %}">ÏÇ¨Ïö©Ïûê Í¥ÄÎ¶¨</a></li>
                </ul>
            </div>
            <div class="banner-right">
                <a href="{% url 'home:main' %}" class="home">
                    <i class="fi fi-rr-home"></i>ÌôàÏúºÎ°ú
                </a>
            </div>
    </div>
    <div class="table">
      <div class="notice">
        <div class="dash-top">
          <h2>Í≤åÏãúÍ∏Ä Í¥ÄÎ¶¨</h2>
          <hr>
        </div>
        <div class="box">
          <div><p>1,234</p><a>Ï†ÑÏ≤¥ Í≤åÏãúÍ∏Ä</a></div>
          <div><p>5,678</p><a>Ïã†Í≥†Îêú Í≤åÏãúÍ∏Ä</a></div>
          <div><p>12</p><a>Ïò§Îäò ÏûëÏÑ±</a></div>
        </div>

        <div class="filter">
          <div class="filt">
            <select>
              <option value="">Ï†ÑÏ≤¥ Í≤åÏãúÌåê</option>
              <option value="ÍµêÌôòÌõÑÍ∏∞">ÍµêÌôòÌõÑÍ∏∞</option>
              <option value="ÎÇòÎàî">ÎÇòÎàî</option>
              <option value="ÎåÄÎ¶¨Íµ¨Îß§">ÎåÄÎ¶¨Íµ¨Îß§</option>
              <option value="ÌòÑÌô©Í≥µÏú†">ÌòÑÌô©Í≥µÏú†</option>
              <option value="ÎèôÌñâ">ÎèôÌñâ</option>
            </select>
            <select class="state">
              <option value="">Í≤åÏãúÍ∏Ä ÏÉÅÌÉú</option>
              <option>Ï†ïÏÉÅ</option>
              <option>ÎåÄÍ∏∞</option>
              <option>ÏÇ≠Ï†ú</option>
            </select>
            <input type="text" class="search" placeholder="Í≤åÏãúÍ∏Ä Ï†úÎ™©, ÏûëÏÑ±Ïûê Í≤ÄÏÉâ...">
            <input type="button" class="searchBtn" value="Í≤ÄÏÉâ">
          </div>
        </div>

        <div class="table-controls">
          <h3>ÏÑ†ÌÉùÎêú Í≤åÏãúÍ∏ÄÏùÑ Í¥ÄÎ¶¨ÌïòÏÑ∏Ïöî <span class="selected-count" id="selectedCount">(0Í∞ú ÏÑ†ÌÉùÎê®)</span></h3>
          <div class="action-buttons">
            <button class="action-btn btn-delete" id="deleteBtn" disabled>ÏÑ†ÌÉù ÏÇ≠Ï†ú</button>
          </div>
        </div>

        <table>
          <thead>
            <tr>
              <th><input type="checkbox" id="selectAll"></th>
              <th>Í≤åÏãúÍ∏Ä ID</th>
              <th>Í≤åÏãúÌåê</th>
              <th>Ï†úÎ™©</th>
              <th>ÏûëÏÑ±Ïûê</th>
              <th>ÏûëÏÑ±Ïùº</th>
              <th>Ïã†Í≥†Ïàò</th>
              <th>ÏÉÅÌÉú</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="checkbox" class="row-checkbox"></td>
              <td>abcdefg</td>
              <td>ÍµêÌôòÌõÑÍ∏∞</td>
              <td><a href="{% url 'adpage:postV' %}">„Öá„ÖáÎãòÍ≥º ÍµêÌôòÌõÑÍ∏∞</a></td>
              <td>„ÖÅ„ÖÅ</td>
              <td>2025-06-25</td>
              <td>3</td>
              <td>ÎåÄÍ∏∞</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="row-checkbox"></td>
              <td>gijklmnop</td>
              <td>ÎèôÌñâ</td>
              <td><a href="{% url 'adpage:postV' %}">„Öá„ÖáÏΩò ÎèôÌñâÍµ¨Ìï¥Ïöî</a></td>
              <td>„ÖÅ„Ñ¥„Öá„Ñπ</td>
              <td>2025-06-25</td>
              <td>0</td>
              <td>Ï†ïÏÉÅ</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="row-checkbox"></td>
              <td>giop</td>
              <td>ÎèôÌñâ</td>
              <td><a href="{% url 'adpage:postV' %}">„Öá„ÖáÏΩò ÎèôÌñâÍµ¨Ìï¥Ïöî</a></td>
              <td>„ÖÅ„Ñ¥„Öá„Ñπ</td>
              <td>2025-06-25</td>
              <td>0</td>
              <td>Ï†ïÏÉÅ</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="row-checkbox"></td>
              <td>gip</td>
              <td>ÎèôÌñâ</td>
              <td><a href="{% url 'adpage:postV' %}">„Öá„ÖáÏΩò ÎèôÌñâÍµ¨Ìï¥Ïöî</a></td>
              <td>„ÖÅ„Ñ¥„Öá„Ñπ</td>
              <td>2025-06-25</td>
              <td>0</td>
              <td>Ï†ïÏÉÅ</td>
            </tr>
            <tr>
              <td><input type="checkbox" class="row-checkbox"></td>
              <td>gop</td>
              <td>ÎèôÌñâ</td>
              <td><a href="{% url 'adpage:postV' %}">„Öá„ÖáÏΩò ÎèôÌñâÍµ¨Ìï¥Ïöî</a></td>
              <td>„ÖÅ„Ñ¥„Öá„Ñπ</td>
              <td>2025-06-25</td>
              <td>0</td>
              <td>Ï†ïÏÉÅ</td>
            </tr>
          </tbody>
        </table>

        <div class="bottom-bar">
          <div class="pagination">
            <a href="#">¬´</a>
            <a href="#">‚Äπ</a>
            <strong>1</strong>
            <a href="#">2</a>
            <a href="#">3</a>
            <a href="#">4</a>
            <a href="#">5</a>
            <a href="#">‚Ä∫</a>
            <a href="#">¬ª</a>
          </div>
        </div>

      </div>
    </div>
  </div>

  <script>
    // Î™®Îì† Î©îÎâ¥ li ÏöîÏÜå Í∞ÄÏ†∏Ïò§Í∏∞
    const menuItems = document.querySelectorAll('.menu ul li');

    menuItems.forEach(item => {
        item.addEventListener('click', () => {
        // Î®ºÏ†Ä Î™®Îì† liÏóêÏÑú 'board' ÌÅ¥ÎûòÏä§ Ï†úÍ±∞
        menuItems.forEach(i => i.classList.remove('board'));
        // ÌÅ¥Î¶≠Ìïú Ìï≠Î™©ÏóêÎßå 'board' ÌÅ¥ÎûòÏä§ Ï∂îÍ∞Ä
        item.classList.add('board');
        });
    });

    // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ Í∏∞Îä•
    const selectAllCheckbox = document.getElementById('selectAll');
    const rowCheckboxes = document.querySelectorAll('.row-checkbox');
    const selectedCount = document.getElementById('selectedCount');
    const deleteBtn = document.getElementById('deleteBtn');

    // ÏÑ†ÌÉùÎêú Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏ Ìï®Ïàò
    function updateSelectedCount() {
      const checkedBoxes = document.querySelectorAll('.row-checkbox:checked');
      const count = checkedBoxes.length;
      
      selectedCount.textContent = `(${count}Í∞ú ÏÑ†ÌÉùÎê®)`;
      
      // ÏÇ≠Ï†ú Î≤ÑÌäº ÌôúÏÑ±Ìôî/ÎπÑÌôúÏÑ±Ìôî
      if (count > 0) {
        deleteBtn.disabled = false;
      } else {
        deleteBtn.disabled = true;
      }
      
      // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÉÅÌÉú ÏóÖÎç∞Ïù¥Ìä∏
      if (count === 0) {
        selectAllCheckbox.indeterminate = false;
        selectAllCheckbox.checked = false;
      } else if (count === rowCheckboxes.length) {
        selectAllCheckbox.indeterminate = false;
        selectAllCheckbox.checked = true;
      } else {
        selectAllCheckbox.indeterminate = true;
      }
    }

    // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ Ïù¥Î≤§Ìä∏
    selectAllCheckbox.addEventListener('change', function() {
      const isChecked = this.checked;
      rowCheckboxes.forEach(checkbox => {
        checkbox.checked = isChecked;
      });
      updateSelectedCount();
    });

    // Í∞úÎ≥Ñ Ï≤¥ÌÅ¨Î∞ïÏä§ Ïù¥Î≤§Ìä∏
    rowCheckboxes.forEach(checkbox => {
      checkbox.addEventListener('change', updateSelectedCount);
    });

    // ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
    deleteBtn.addEventListener('click', function() {
      const checkedBoxes = document.querySelectorAll('.row-checkbox:checked');
      const count = checkedBoxes.length;
      
      if (count > 0) {
        const confirmed = confirm(`ÏÑ†ÌÉùÎêú ${count}Í∞úÏùò Í≤åÏãúÍ∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`);
        if (confirmed) {
          checkedBoxes.forEach(checkbox => {
            const row = checkbox.closest('tr');
            row.remove();
          });
          updateSelectedCount();
          alert(`${count}Í∞úÏùò Í≤åÏãúÍ∏ÄÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.`);
        }
      }
    });

    // Ï¥àÍ∏∞ ÏÉÅÌÉú ÏÑ§Ï†ï
    updateSelectedCount();

  document.addEventListener("DOMContentLoaded", () => {
  const selectBoard = document.querySelector(".filter select:nth-child(1)");
  const selectState = document.querySelector(".filter select.state");
  const searchInput = document.querySelector(".filter .search");
  const searchBtn = document.querySelector(".filter .searchBtn");

  const tbody = document.querySelector("tbody");
  const allRows = Array.from(tbody.querySelectorAll("tr"));

  let filteredRows = allRows;
  let currentPage = 1;
  const itemsPerPage = 4;

  // ÌïÑÌÑ∞ Î∞è Í≤ÄÏÉâ Ï°∞Í±¥Ïóê ÎßûÍ≤å Ìñâ ÌïÑÌÑ∞ÎßÅ
  function filterRows() {
    const boardFilter = selectBoard.value.trim();
    const stateFilter = selectState.value.trim();
    const keyword = searchInput.value.trim().toLowerCase();

    filteredRows = allRows.filter(row => {
      const cells = row.querySelectorAll("td");
      const boardText = cells[2].textContent.trim();
      const titleText = cells[3].textContent.trim().toLowerCase();
      const authorText = cells[4].textContent.trim().toLowerCase();
      const contentText = ""; // Í≤åÏãúÍ∏Ä ÎÇ¥Ïö©Ïù¥ ÌÖåÏù¥Î∏îÏóê ÏóÜÏúºÎ©¥ Ï†úÏô∏
      const stateText = cells[7].textContent.trim();

      // Í≤åÏãúÌåê ÌïÑÌÑ∞ (Îπà Í∞íÏù¥Î©¥ Ï†ÑÏ≤¥)
      const boardMatch = !boardFilter || boardFilter === "" || boardText === boardFilter;

      // ÏÉÅÌÉú ÌïÑÌÑ∞ (Îπà Í∞íÏù¥Î©¥ Ï†ÑÏ≤¥)
      const stateMatch = !stateFilter || stateFilter === "" || stateText === stateFilter;

      // Í≤ÄÏÉâÏñ¥Í∞Ä Ï†úÎ™©, ÏûëÏÑ±ÏûêÏóê Ìè¨Ìï®ÎêòÎäîÏßÄ
      const keywordMatch =
        keyword === "" ||
        titleText.includes(keyword) ||
        authorText.includes(keyword) 
      return boardMatch && stateMatch && keywordMatch;
    });

    currentPage = 1; // ÌïÑÌÑ∞ÎßÅÌï† Îïå Ìï≠ÏÉÅ 1ÌéòÏù¥ÏßÄÎ∂ÄÌÑ∞ Î≥¥Ïó¨Ï£ºÍ∏∞
    updateTable();
  }

  // ÌÖåÏù¥Î∏îÏóê ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê ÎßûÎäî ÌñâÎßå Î≥¥Ïó¨Ï£ºÍ∏∞
  function updateTable() {
    // Ï†ÑÏ≤¥ Ìñâ Ïà®Í∏∞Í∏∞
    allRows.forEach(row => (row.style.display = "none"));

    // ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóê ÎßûÎäî ÌñâÎßå ÌëúÏãú
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const pageRows = filteredRows.slice(startIndex, endIndex);

    pageRows.forEach(row => (row.style.display = ""));

    updatePagination();
    updateSelectedCount(); // Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÑ†ÌÉù Í∞úÏàò Ï¥àÍ∏∞Ìôî
  }

  // ÌéòÏù¥ÏßÄÎÑ§Ïù¥ÏÖò Î≤ÑÌäº ÏóÖÎç∞Ïù¥Ìä∏
  function updatePagination() {
    const pagination = document.querySelector(".pagination");
    pagination.innerHTML = "";

    const totalPages = Math.ceil(filteredRows.length / itemsPerPage);
    if (totalPages === 0) {
      pagination.textContent = "Í≤ÄÏÉâ Í≤∞Í≥ºÍ∞Ä ÏóÜÏäµÎãàÎã§.";
      return;
    }

    function createButton(label, clickHandler) {
      const a = document.createElement("a");
      a.href = "#";
      a.textContent = label;
      a.style.margin = "0 5px";
      a.addEventListener("click", function (e) {
        e.preventDefault();
        clickHandler();
      });
      return a;
    }

    // Ï≤´, Ïù¥Ï†Ñ Î≤ÑÌäº
    pagination.appendChild(createButton("¬´", () => showPage(1)));
    pagination.appendChild(createButton("‚Äπ", () => {
      if (currentPage > 1) showPage(currentPage - 1);
    }));

    const maxVisiblePages = 5;
    let startPage, endPage;
    if (totalPages <= maxVisiblePages) {
      startPage = 1;
      endPage = totalPages;
    } else {
      const half = Math.floor(maxVisiblePages / 2);
      if (currentPage <= half) {
        startPage = 1;
        endPage = maxVisiblePages;
      } else if (currentPage + half >= totalPages) {
        startPage = totalPages - maxVisiblePages + 1;
        endPage = totalPages;
      } else {
        startPage = currentPage - half;
        endPage = currentPage + half;
        if (maxVisiblePages % 2 === 0) endPage--;
      }
    }

    for (let i = startPage; i <= endPage; i++) {
      if (i === currentPage) {
        const strong = document.createElement("strong");
        strong.textContent = i;
        pagination.appendChild(strong);
      } else {
        pagination.appendChild(createButton(i, () => showPage(i)));
      }
    }

    // Îã§Ïùå, ÎßàÏßÄÎßâ Î≤ÑÌäº
    pagination.appendChild(createButton("‚Ä∫", () => {
      if (currentPage < totalPages) showPage(currentPage + 1);
    }));
    pagination.appendChild(createButton("¬ª", () => showPage(totalPages)));
  }

  function showPage(pageNumber) {
    currentPage = pageNumber;
    updateTable();
  }

  // Ï≤¥ÌÅ¨Î∞ïÏä§ Í¥ÄÎ†® - ÏÑ†ÌÉù Í∞úÏàò ÏóÖÎç∞Ïù¥Ìä∏
  const selectAllCheckbox = document.getElementById('selectAll');
  const deleteBtn = document.getElementById('deleteBtn');
  const selectedCount = document.getElementById('selectedCount');

  function updateSelectedCount() {
    // ÌïÑÌÑ∞ÎßÅ Îêú ÌéòÏù¥ÏßÄÏóê ÌëúÏãúÎêú Ï≤¥ÌÅ¨Î∞ïÏä§Îßå Í≥†Î†§
    const visibleCheckboxes = filteredRows
      .slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)
      .map(row => row.querySelector('.row-checkbox'));

    const checkedBoxes = visibleCheckboxes.filter(cb => cb.checked);
    const count = checkedBoxes.length;

    selectedCount.textContent = `(${count}Í∞ú ÏÑ†ÌÉùÎê®)`;
    deleteBtn.disabled = count === 0;

    // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ ÏÉÅÌÉú
    if (count === 0) {
      selectAllCheckbox.indeterminate = false;
      selectAllCheckbox.checked = false;
    } else if (count === visibleCheckboxes.length) {
      selectAllCheckbox.indeterminate = false;
      selectAllCheckbox.checked = true;
    } else {
      selectAllCheckbox.indeterminate = true;
    }
  }

  // Ï†ÑÏ≤¥ ÏÑ†ÌÉù Ï≤¥ÌÅ¨Î∞ïÏä§ Ïù¥Î≤§Ìä∏ (ÌòÑÏû¨ ÌéòÏù¥ÏßÄÎßå ÏÑ†ÌÉù)
  selectAllCheckbox.addEventListener('change', function () {
    const visibleCheckboxes = filteredRows
      .slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)
      .map(row => row.querySelector('.row-checkbox'));

    visibleCheckboxes.forEach(cb => cb.checked = this.checked);
    updateSelectedCount();
  });

  // Í∞úÎ≥Ñ Ï≤¥ÌÅ¨Î∞ïÏä§ Ïù¥Î≤§Ìä∏ (ÌòÑÏû¨ ÌéòÏù¥ÏßÄ)
  function addCheckboxListeners() {
    filteredRows.forEach(row => {
      const cb = row.querySelector('.row-checkbox');
      if (cb) {
        cb.addEventListener('change', updateSelectedCount);
      }
    });
  }

  // ÏÇ≠Ï†ú Î≤ÑÌäº ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏ (ÌòÑÏû¨ ÌéòÏù¥ÏßÄÏóêÏÑú ÏÑ†ÌÉùÎêú Í≤ÉÎßå ÏÇ≠Ï†ú)
  deleteBtn.addEventListener('click', () => {
    const visibleCheckboxes = filteredRows
      .slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage)
      .map(row => row.querySelector('.row-checkbox'))
      .filter(cb => cb.checked);

    if (visibleCheckboxes.length === 0) return;

    if (confirm(`ÏÑ†ÌÉùÎêú ${visibleCheckboxes.length}Í∞úÏùò Í≤åÏãúÍ∏ÄÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?`)) {
      visibleCheckboxes.forEach(cb => {
        const row = cb.closest('tr');
        row.remove();
        // ÏõêÎ≥∏ Î∞∞Ïó¥(allRows)ÏóêÏÑúÎèÑ Ï†úÍ±∞
        const indexAll = allRows.indexOf(row);
        if (indexAll > -1) allRows.splice(indexAll, 1);
      });

      // Îã§Ïãú ÌïÑÌÑ∞ÎßÅ ÌõÑ ÌÖåÏù¥Î∏î Í∞±Ïã†
      filterRows();
      alert(`${visibleCheckboxes.length}Í∞úÏùò Í≤åÏãúÍ∏ÄÏù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.`);
    }
  });

  // Í≤ÄÏÉâ Î≤ÑÌäº ÌÅ¥Î¶≠Ïãú ÌïÑÌÑ∞ÎßÅ Ïã§Ìñâ
  searchBtn.addEventListener('click', filterRows);

  // ÌïÑÌÑ∞ ÏÖÄÎ†âÌä∏ Î∞îÎÄî ÎïåÎèÑ ÌïÑÌÑ∞ÎßÅ Ïã§Ìñâ
  selectBoard.addEventListener('change', filterRows);
  selectState.addEventListener('change', filterRows);

  searchInput.addEventListener('keydown', function(e) {
  if (e.key === 'Enter') {
    e.preventDefault();
    filterRows();
  }
  });

  // Ï¥àÍ∏∞ ÏÖãÏóÖ
  addCheckboxListeners();
  filterRows();
});

  </script>
</body>
</html>