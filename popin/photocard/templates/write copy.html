
{% include 'header2.html' %}
{% load static %}
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í¬í† ì¹´ë“œ ì—…ë¡œë“œ</title>
</head>
<style>
.Upload-Container {
    max-width: 900px;
    margin: 0 auto;
    background: rgba(2555,255,255,0.95);
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0,0,0,0.1);
    background-filter: blur(10px);
    overflow: hidden;
}
.Upload-header {
    background: linear-gradient(153deg, #bbc8ff, #9c42a0);
    padding: 30px;
    text-align: center;
    color: #ffff;
    margin-bottom: 29px;
}
.Upload-header h2{
    font-size:2.5rem;
    margin-bottom:10px;
    font-weight: 700;
}
.Upload-header p{
    opacity: 0.9;
    font-size: 1rem;
}
.Upload-Form{
    padding: 20px;
}
.form-content{
    margin-bottom: 25px;
    border:1px solid black;
}

</style>
<body>
<!--ìƒë‹¨ í—¤ë”ë”-->
    {%block content%}
    {%endblock%}
<!--//ìƒë‹¨í—¤ë”-->

<div class="Upload-Container">
    <div class="Upload-header">
        <h1>âœ¨í¬í† ì¹´ë“œ ì—…ë¡œë“œ</h1>
        <p>ì†Œì¤‘í•œ í¬í† ì¹´ë“œë¥¼ ë“±ë¡í•˜ê³  ë‹¤ë¥¸ íŒ¬ë“¤ê³¼ êµí™˜í•´ë³´ì„¸ìš”!</p>
    </div>

    <div class="Upload-Form">
        <form action="/photocard/write/" method="POST" enctype='multipart/form-data'>
        {% csrf_token %}
        
            <!-- ê¸°ë³¸ì •ë³´ ì„¹ì…˜ -->
            <div class="form-section">
                <h3 class="section-title">ğŸ“‹ ê¸°ë³¸ ì •ë³´</h3>

                <!--ì œëª©-->
                <div class="form-content">
                    <label for="title">ì œëª© <span class="required">*</span></label>
                    <input type="text" id="title" name="title" required placeholder="í¬í† ì¹´ë“œ ì œëª©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>

                <!--ì´ë¯¸ì§€ì—…ë¡œë“œ-->
                <div class="form-content">
                    <label>ì‚¬ì§„<span class="requuired">*</span></label>
                    <div class="file-upload-icon">ğŸ“·</div>
                        <h4>ì´ë¯¸ì§€ë¥¼ ë“œë˜ê·¸í•˜ê±°ë‚˜ í´ë¦­í•˜ì—¬ ì—…ë¡œë“œ</h4>
                        <p>JPG, PNG, GIF íŒŒì¼ì„ ì§€ì›í•©ë‹ˆë‹¤ (ìµœëŒ€ 10MB)</p>
                        <input type="file" name="image" id="imageInput" class="fileType" accept="image/*" style="display: none;" required>
                    </div>
                    <div class="preview-container" id="previewContainer" style="display: none;">
                        <img id="previewImage" class="preview-image" alt="ë¯¸ë¦¬ë³´ê¸°">
                    </div>
                </div>

                <!-- ê·¸ë£¹ - ë©¤ë²„ -->
                <div class="form-content">
                    <label>ê·¸ë£¹ - ë©¤ë²„ <span class="required">*</span></label>
                    <div class="member-grid">
                        <select name="group" id="group" required>
                            <option value="">ê·¸ë£¹ ì„ íƒ</option>
                            {% for group in groups %}
                            <option value="{{ group }}">{{ group }}</option>
                            {% endfor %}
                        </select>
                        <select name="member" id="member" required>
                            <option value="">ë©¤ë²„ ì„ íƒ</option>
                            {% for mem in member %}
                            <option value="{{ mem }}">{{ mem }}</option>
                            {% endfor %}
                        </select>
                    </div>
                </div>

                <!-- ì•¨ë²” ì •ë³´ -->
                <div class="form-content">
                    <label>ì•¨ë²”</label>
                    <div class="album-type-selector">
                        <button type="button" class="album-type-btn" data-type="album_name">ì•¨ë²”ëª…</button>
                        <button type="button" class="album-type-btn" data-type="lucky_draw">ëŸ­ë“œ</button>
                        <button type="button" class="album-type-btn" data-type="unreleased">ë¯¸ê³µí¬</button>
                    </div>
                    <div class="album-input">
                        <input type="text" name="album" id="albumInput" placeholder="ì•¨ë²” ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                        <input type="hidden" name="album_type" id="albumType">
                    </div>
                </div>
            </div>
            <!--//ê¸°ë³¸ì •ë³´ì„¹ì…˜-->

            <!--ê±°ë˜ìœ í˜•ì„¹ì…˜-->
            <div class="form-section">
                <h3 class="section-title">ğŸ’° ê±°ë˜ ìœ í˜•</h3>
                
                <div class="form-content">
                    <label>ê±°ë˜ ìœ í˜• ì„ íƒ <span class="required">*</span></label>
                    <div class="trade-type-selector">
                        <div class="trade-option" data-type="sale">
                            <h4>ğŸ’° íŒë§¤ê¸€</h4>
                            <p>ê°€ê²©ì„ ì„¤ì •í•˜ì—¬ íŒë§¤</p>
                        </div>
                        <div class="trade-option" data-type="exchange">
                            <h4>ğŸ”„ êµí™˜ê¸€</h4>
                            <p>ë‹¤ë¥¸ í¬í† ì¹´ë“œì™€ êµí™˜</p>
                        </div>
                    </div>
                    <input type="hidden" name="trade_type" id="tradeType" required>
                    
                    <div class="price-input" id="priceInput">
                        <label for="price">ê°€ê²© (ì›) <span class="required">*</span></label>
                        <input type="number" id="price" name="price" placeholder="íŒë§¤ ê°€ê²©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”" min="0">
                    </div>

                    <div class="blocked-notice" id="blockedNotice">
                        <strong>âš ï¸ ì•Œë¦¼:</strong> êµí™˜ê¸€ì€ ê°€ê²© ì„¤ì •ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.
                    </div>
                </div>
            </div>
            <!--//ê±°ë˜ìœ í˜•ì„¹ì…˜-->

            <!--ìƒì„¸ì„¤ëª…ì„¹ì…˜-->
            <div class="form-section">
                <h3 class="section-title">ğŸ“ ìƒì„¸ ì„¤ëª…</h3>
                
                <div class="form-content">
                    <label for="description">ìƒì„¸ì„¤ëª…</label>
                    <textarea id="description" name="description" placeholder="í¬í† ì¹´ë“œì˜ ìƒíƒœ, êµí™˜ í¬ë§ ì‚¬í•­ ë“±ì„ ìì„¸íˆ ì„¤ëª…í•´ì£¼ì„¸ìš”"></textarea>
                </div>

                <div class="form-content">
                    <label for="tag">íƒœê·¸</label>
                    <input type="text" id="tag" name="tag" placeholder="#í¬ê·€ #í•œì •íŒ #êµí™˜ê¸‰êµ¬ ë“±ì˜ íƒœê·¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                </div>
            </div>
            <!--//ìƒì„¸ì„¤ëª…ì„¹ì…˜-->

            <!--ìœ„ì¹˜ì •ë³´ì„¹ì…˜-->
            <div class="form-section">
                <h3 class="section-title">ğŸ“ ê±°ë˜ ìœ„ì¹˜</h3>
                
                <div class="form-content">
                    <label>ìœ„ì¹˜ ì„ íƒ ë°©ë²•</label>
                    <div class="location-toggle">
                        <button type="button" class="location-btn" data-location="db">DB ì¥ì†Œ</button>
                        <button type="button" class="location-btn" data-location="current">ë‚´ ìœ„ì¹˜</button>
                    </div>

                    <div id="dbLocationContainer">
                        <select name="db_location" id="dbLocation">
                            <option value="">ì¥ì†Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            {% for key, label in place_choices %}
                            <option value="{{ key }}">{{ label }}</option>
                            {% endfor %}
                        </select>
                    </div>

                    <div id="mapContainer">
                        <div id="map" class="map-container"></div>
                        <div class="location-info" id="locationInfo">
                            ì§€ë„ë¥¼ í´ë¦­í•˜ì—¬ ê±°ë˜ ì¥ì†Œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”
                        </div>
                    </div>

                    <input type="hidden" name="location_type" id="locationType">
                    <input type="hidden" name="latitude" id="latitude">
                    <input type="hidden" name="longitude" id="longitude">
                </div>
            </div>
            <!--//ìœ„ì¹˜ì •ë³´ì„¹ì…˜-->

            <!-- ë²„íŠ¼ -->
            <div class="button-container">
                <button type="button" class="btn btn-secondary" onclick="history.back()">
                    ì·¨ì†Œí•˜ê¸°
                </button>
                <button type="submit" class="btn btn-primary">
                    ë“±ë¡í•˜ê¸°
                </button>
            </div>
        </form>
    </div>
</div>  
<!--//Upload-Container-->

</body>
</html>